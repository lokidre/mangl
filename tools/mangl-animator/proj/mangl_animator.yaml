project:
  name: ManglAnimator
  version: 0.0.1
  build: 1

  platform: macOS
  deployment_target: 10.15

  compile_definitions:
    - QT_NO_KEYWORDS=1
    - QT_CORE_LIB=1
    - QT_GUI_LIB=1

  framework_search_paths:
    - ${CONFIG_QT_DIR}/lib

  include_directories:
    - ${CONFIG_QT_DIR}/lib/QtCore.framework/Headers
    - ${CONFIG_QT_DIR}/lib/QtGui.framework/Headers
    - ${CONFIG_QT_DIR}/lib/QtWidgets.framework/Headers

  mangl_config: ${GENPROJ_PROJECT_CONFIG_DIR}/mangl_config.h
  add_resources: ${GENPROJ_PROJECT_CONFIG_DIR}/MainMenu.xib

  pre_build_scripts:
    - path: ${GENPROJ_PROJECT_CONFIG_DIR}/qt_phase.sh
      name: Qt Moc
      input_files: 
        - /Users/andrei/src/mangl/tools/mangl_animator/src/main_window.h
      output_files: 
        - "[[[DERIVED_FILE_DIR]]]/moc_[[[INPUT_FILE_BASE]]].cpp"

  build_rules:
    - file_pattern: "*.h"
      script: ${GENPROJ_PROJECT_CONFIG_DIR}/qt_phase.sh
      name: Qt Moc
      output_files: 
        - "[[[DERIVED_FILE_DIR]]]/moc_[[[INPUT_FILE_BASE]]].cpp"

  #app_icon_assets:       ${CONFIG_PENTIX_RES_DIR}/icon/pentix_nova/ios/Images.xcassets
  #app_launch_storyboard: ${CONFIG_PENTIX_RES_DIR}/launch/pentix_nova/ios/LaunchScreen.storyboard
  #app_launch_assets:     ${CONFIG_PENTIX_RES_DIR}/launch/pentix_nova/ios/*.png


xcode:
  product_bundle_identifier: com.mangl.animator-mac
  development_team: U5448J2M89

  infoplist_file: ${GENPROJ_PROJECT_CONFIG_DIR}/ManglAnimatorMac-Info.plist

  #clang_cxx_language_standard: c++2a

  shared_frameworks: [AppKit,
    SystemConfiguration,
    AudioToolbox, AVFoundation, CoreAudio, CoreMedia, MediaPlayer,
    CoreGraphics, Metal, QuartzCore,
    # OpenAL, 
    # OpenGL, 
    # Game center
    #Contacts, ContactsUI, GameKit,
    # Security, 
    # StoreKit,
    # Multiplayer
    #CoreBluetooth, MultipeerConnectivity,
    ]

  embed_and_sign_frameworks:
    - ${CONFIG_QT_DIR}/lib/QtCore
    - ${CONFIG_QT_DIR}/lib/QtGui
    - ${CONFIG_QT_DIR}/lib/QtWidgets

  shared_libraries: [libxml2, libsqlite3, libz]
